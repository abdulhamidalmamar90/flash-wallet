
# FLASH WALLET | MASTER TECHNICAL BLUEPRINT

هذا المستند هو المرجع النهائي لمواصفات تطبيق "Flash Wallet". استخدم هذا النص كـ Prompt لإعادة بناء التطبيق بنفس الهوية البصرية والمنطق البرمجي.

## 1. الهوية البصرية (Visual Identity)
- **المفهوم:** Futuristic High-End Fintech (Fintech مستقبلي فاخر).
- **لوحة الألوان (HSL):**
  - **الخلفية (Deep Black):** `hsl(240 10% 4%)` - أسود كربوني عميق.
  - **الأساسي (Gold):** `hsl(46 65% 52%)` - ذهبي معدني للرصيد والعناصر الهامة.
  - **الثانوي (Cyan/Ice):** `hsl(184 100% 50%)` - سيان مشع للحالات النشطة والبحث.
- **الخطوط (Typography):**
  - **Orbitron:** للعناوين، الأرقام المالية، ومعرفات الـ ID.
  - **Inter:** للنصوص الوصفية والبيانات العادية.
  - **Noto Sans Arabic:** للنصوص العربية (بوزن عريض).
- **التأثيرات (FX):**
  - **Glassmorphism:** بطاقات شفافة بخلفية ضبابية `backdrop-blur-xl` وحدود `border-white/5`.
  - **Neon Glow:** توهج ذهبي `gold-glow` وتوهج سيان `cyan-glow` حول العناصر النشطة.
  - **Verified Border:** صورة المستخدم الموثق محاطة بإطار أخضر متوهج، وغير الموثق بإطار أحمر.

## 2. هيكلية قاعدة البيانات (Firestore)
- `/users/{userId}`: الملف الشخصي، الرصيد، والـ `customId` (حرف + 12 رقم).
- `/users/{userId}/transactions`: سجل العمليات (نوع، مبلغ، مستلم/مرسل، تاريخ).
- `/users/{userId}/notifications`: مركز التنبيهات مع حالة القراءة.
- `/withdrawals`: طلبات السحب العالمية (للإدارة).
- `/deposits`: طلبات الإيداع العالمية (للإدارة).
- `/verifications`: طلبات توثيق الهوية KYC (للإدارة).

## 3. المنطق البرمجي والوظائف (Core Logic)
- **P2P Transfer:** نظام تحويل ذري (Atomic) يعتمد على البحث عن الـ Flash ID، إظهار اسم المستلم للتحقق قبل الإرسال، وتحديث الرصيد فوراً للطرفين.
- **Deposit System:** يقوم المستخدم برفع صورة إثبات التحويل، تظهر للأدمن في تبويب "Deposits"، وعند الموافقة يضاف الرصيد فورياً.
- **Admin Command:** لوحة تحكم كاملة للمسؤولين للموافقة على السحوبات، الإيداعات، توثيق الحسابات، وتعديل الأرصدة يدوياً.
- **Settings Modal:** نافذة تفتح من صورة الملف الشخصي تظهر فوق كل شيء، تحتوي على خيارات الـ QR واللغة وتسجيل الخروج.
- **KYC Flow:** رفع وثيقة الهوية، تظهر الحالة كـ "Pending" للإدارة، وعند الموافقة يتحول إطار الصورة للأخضر المتوهج.

## 4. خرائط الصفحات (App Flow)
- **Dashboard:** الواجهة الرئيسية (الرصيد الضخم، أزرار الإيداع والسحب والتحويل السريع).
- **Deposit Page:** صفحة رفع إثبات الدفع وتحديد المبلغ.
- **Admin Page:** أربعة تبويبات (سحب، إيداع، توثيق، سجل العملاء).

## 5. قواعد الأمان (Rules)
- لا يمكن التحويل للنفس.
- لا يمكن التحويل لمستخدم غير موجود.
- الرصيد يجب أن يكون أكبر من مبلغ العملية في حال السحب أو التحويل.
